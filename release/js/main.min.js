this.GNS={},this.GNS.ClassFactory=function(){var t=!0,e=function(){};e.prototype.logger=function(e){if(!t||""==e||!e)return null;"string"!=typeof e&&(e=String(e));try{console.log(e)}catch(i){}};var i={};return i.create=function(t){var i=function(){this.init.apply(this,arguments)},n=function(){};return t||(t=e),n.prototype=t.prototype,i.prototype=new n,i.prototype.init=new Function,i.prototype._super=t.prototype,i.prototype._self=i.prototype._static=i,i.prototype},Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),i=this,n=function(){},a=function(){return i.apply(this instanceof n&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,a.prototype=new n,a}),i}(),this.GNS.EventDispatcher=function(){var t=GNS.ClassFactory.create();t.element;var e=[];return t.dispatchEvent=function(t){if(null!=t)for(var i=0;i<e.length;i++)e[i].type==t&&e[i].call()},t.addEventListener=function(t,i){if(null!=t&&null!=i){for(var n=0;n<e.length;n++)if(e[n].type==t&&e[n].call==i)return;e.push({type:t,call:i})}},t.removeEventListener=function(t,i){if(null!=t&&null!=i)for(var n=0;n<e.length;n++)e[n].type==t&&e[n].call==i&&e.splice(n,1)},t.removeAllEventListener=function(){e.length=0},t.hasEventNum=function(){return e.length},t.hasEventList=function(){return e},t.hasEventListener=function(t){if(null!=t){for(var i=0;i<e.length;i++)if(e[i].type==t)return!0;return!1}},t._self}(),this.GNS.ElementObject=function(){var t=GNS.ClassFactory.create(GNS.EventDispatcher);t.element,t.addEvent=function(t,i){var n=function(t){i(t,this.element),e(t)};null==this.element.hasEventList&&(this.element.hasEventList=[]),this.element.hasEventList.push({type:t,call:i,handler:n}),this.element.addEventListener?this.element.addEventListener(t,n):this.element.attachEvent?this.element.attachEvent("on"+t,n):this.element["on"+t]=n},t.removeEvent=function(t,e){for(var i=0;i<this.element.hasEventList.length;i++)this.element.hasEventList[i].type==t&&this.element.hasEventList[i].call==e&&(this.element.removeEventListener?this.element.removeEventListener(this.element.hasEventList[i].type,this.element.hasEventList[i].handler):this.element.detachEvent?this.element.detachEvent("on"+this.element.hasEventList[i].type,this.element.hasEventList[i].handler):this.element["on"+this.element.hasEventList[i].type]=null,this.element.hasEventList.splice(i,1))},t._static.addEvent=function(t,i,n){var a=function(i){n(i,t),e(i)};null==t.hasEventList&&(t.hasEventList=[]),t.hasEventList.push({type:i,call:n,handler:a}),t.addEventListener?t.addEventListener(i,a):t.attachEvent?t.attachEvent("on"+i,a):t["on"+i]=a},t._static.removeEvent=function(t,e,i){for(var n=0;n<t.hasEventList.length;n++)t.hasEventList[n].type==e&&t.hasEventList[n].call==i&&(t.removeEventListener?t.removeEventListener(t.hasEventList[n].type,t.hasEventList[n].handler):t.detachEvent?t.detachEvent("on"+t.hasEventList[n].type,t.hasEventList[n].handler):t["on"+t.hasEventList[n].type]=null,t.hasEventList.splice(n,1))},t._static.hasEventList=function(t){return t.hasEventList};var e=function(t){};return t._static.addClass=function(e,i){var n=e.className;t._static.hasClass(e,i)||(""==n?e.className=i:e.className=n+" "+i)},t._static.hasClass=function(t,e){var i=new RegExp("(^|\\s)"+e+"(\\s|$)");return i.test(t.className)},t._static.removeClass=function(t,e){var i=t.className;i.indexOf(e+" ")>=0?t.className=i.replace(e+" ",""):i.indexOf(" "+e)>=0?t.className=i.replace(" "+e,""):t.className=i.replace(e,"")},t._self}(),this.GNS.Window=function(){var t=GNS.ClassFactory.create(GNS.ElementObject);return t._static.instance,t.init=function(){t.logger("Document::init")},t._static.getInstance=function(){return null==t._static.instance&&(t.element=window,t._static.instance=new GNS.Window),t._static.instance},t._static.getSize=function(){return{innerWidth:window.innerWidth||document.documentElement&&document.documentElement.clientWidth,innerHeight:window.innerHeight||document.documentElement&&document.documentElement.clientHeight,screenWidth:screen.width,screenHeight:screen.height}},t._self}(),this.GNS.Event=function(){var t=GNS.ClassFactory.create();return t._static.LOAD="load",t._static.UNLOAD="unload",t._static.RESIZE="resize",t._static.SCROLL="scroll",t._static.MOUSE_DOWN="mousedown",t._static.MOUSE_UP="mouseup",t._static.MOUSE_OVER="mouseover",t._static.MOUSE_OUT="mouseout",t._static.CLICK="mousedown",t._static.getTarget=function(t){return t&&t.target||window.event&&window.event.srcElement},t._self}(),this.GNS.SceneEvent=function(){var t=GNS.ClassFactory.create(),e=t._static;return e.DEL_COMPLETE="del_complete",t._static.getTarget=function(t){return t&&t.target||window.event&&window.event.srcElement},t._self}(),this.GNS.StringUtil=function(){var t=GNS.ClassFactory.create(),e=t._static;return e.getUrlQuery=function(){var t={};if(1<window.location.search.length)for(var e=window.location.search.substring(1),i=e.split("&"),n=0;n<i.length;n++){var a=i[n].split("="),s=decodeURIComponent(a[0]),r=decodeURIComponent(a[1]);t[s]=r}return t},t._self}(),this.GNS.BrowserUtil=function(){var t=GNS.ClassFactory.create();return t._static.isIE6=!1,t._static.isIE7=!1,t._static.isIE8=!1,t._static.isIE8=!1,t._static.isIE9=!1,t._static.isIE10=!1,t._static.isIE11=!1,t._static.isIE=!1,t._static.isChorome=!1,t._static.isSafari=!1,t._static.isOpera=!1,t._static.isFirefox=!1,t._static.isiPadiOS7=!1,t._static.isiPad=!1,t._static.isiOS=!1,t._static.isiOS7=!0,t._static.isAndroid=!1,t._static.isAndroidTablet=!1,t._static.initialized=!1,t._static.init=function(){var e=window.navigator.userAgent.toLowerCase(),i=window.navigator.appVersion.toLowerCase(),n="unknown";if(-1!=e.indexOf("msie")?(t._static.isIE=!0,n="IE",-1!=i.indexOf("msie 6.")?(t._static.isIE6=!0,n="IE6"):-1!=i.indexOf("msie 7.")?(t._static.isIE7=!0,n="IE7"):-1!=i.indexOf("msie 8.")?(t._static.isIE8=!0,n="IE8"):-1!=i.indexOf("msie 9.")?(t._static.isIE9=!0,n="IE9"):-1!=i.indexOf("msie 10.")&&(t._static.isIE10=!0,n="IE10")):-1!=e.indexOf("trident/7")?(t._static.isIE11=!0,t._static.isIE=!0,n="IE11"):-1!=e.indexOf("chrome")?(t._static.isChorome=!0,n="Chorome"):-1!=e.indexOf("safari")?(t._static.isSafari=!0,n="Safari"):-1!=e.indexOf("opera")?(t._static.isOpera=!0,n="Opera"):-1!=e.indexOf("firefox")&&(t._static.isFirefox=!0,n="Firefox"),-1!=e.indexOf("iphone")){t._static.isiOS=!0;var a=/(os)\s([0-9]{1,})([\_0-9]{1,})/.exec(e);7==a[2]&&(t._static.isiOS7=!0)}if(-1!=e.indexOf("ipod")&&(t._static.isiOS=!0),-1!=e.indexOf("ipad")){t._static.isiOS=!0,t._static.isiPad=!0;var a=/(os)\s([0-9]{1,})([\_0-9]{1,})/.exec(e);7==a[2]&&(t._static.isiPadiOS7=!0)}-1!=e.indexOf("android")&&(t._static.isAndroid=!0,-1==e.indexOf("Mobile")&&(t._static.isAndroidTablet=!0)),t._static.initialized=!0,t.logger("BrowserUtill::init ----------> is"+n)},t._static.init(),t._self}(),this.GNS.LoadingUtil=function(){var t=GNS.ClassFactory.create(),e=t._static;return e.multiLoad=function(t,e){function i(){n++,n>=t.length&&e()}for(var n=0,a=0;a<t.length;a++)t[a](i)},e.scriptLoad=function(t,e){var i=document.createElement("script");i.type="text/javascript",i.src=t;var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(i,n),i.onload=e},t._self}(),this.GNS.TCBSpline=function(){var t=GNS.ClassFactory.create(GNS.EventDispatcher);return s=t._static,t.init=function(){var t=[];this.addPoint=function(e,i,n,a,s){var r={x:e,y:i,t:n,c:a,b:s};t.push(r)},this.getSpline=function(a){a>1&&(a=1),0>a&&(a=0);var s=(t.length-1)*(a/1),r=Math.floor(s),o=Math.ceil(s),c=0==r?{x:t[r].x,y:t[r].y}:{x:t[r-1].x,y:t[r-1].y},l={x:t[r].x,y:t[r].y},h={x:t[o].x,y:t[o].y},u=o==t.length-1?{x:t[o].x,y:t[o].y}:{x:t[o+1].x,y:t[o+1].y},f=i(c,l,h,t[r].t,t[r].c,t[r].b),d=n(l,h,u,t[o].t,t[o].c,t[o].b),g=e(l,h,f,d,s-r);return{x:g.x,y:g.y}},this.getSplineAB=function(a,s,r){var o=0==a?{x:t[a].x,y:t[a].y}:{x:t[a-1].x,y:t[a-1].y},c={x:t[a].x,y:t[a].y},l={x:t[s].x,y:t[s].y},h=s==t.length-1?{x:t[s].x,y:t[s].y}:{x:t[s+1].x,y:t[s+1].y},u=i(o,c,l,t[a].t,t[a].c,t[a].b),f=n(c,l,h,t[s].t,t[s].c,t[s].b);r>1&&(r=1),0>r&&(r=0);var d=e(c,l,u,f,r);return{x:d.x,y:d.y}},this.getLength=function(){return t.length},this.setPointX=function(e,i){e>t.length||(t[e].x=i)},this.setPointY=function(e,i){e>t.length||(t[e].y=i)},this.setPointXY=function(e,i,n){e>t.length||(t[e].x=i,t[e].y=n)},this.setPointT=function(e,i){e>t.length||(t[e].t=i)},this.setPointC=function(e,i){e>t.length||(t[e].c=i)},this.setPointB=function(e,i){e>t.length||(t[e].b=i)},this.setPointTCB=function(e,i,n,a){e>t.length||(t[e].t=i,t[e].c=n,t[e].b=a)};var e=function(t,e,i,n,a){var s=(2*a*a*a-3*a*a+1)*t.x,r=(a*a*a-2*a*a+a)*i.x,o=(-2*a*a*a+3*a*a)*e.x,c=(a*a*a-a*a)*n.x,l=(2*a*a*a-3*a*a+1)*t.y,h=(a*a*a-2*a*a+a)*i.y,u=(-2*a*a*a+3*a*a)*e.y,f=(a*a*a-a*a)*n.y;return{x:s+r+o+c,y:l+h+u+f}},i=function(t,e,i,n,a,s){var r=(1-n)*(1+s)*(1+a)/2*(e.x-t.x),o=(1-n)*(1-s)*(1-a)/2*(i.x-e.x),c=(1-n)*(1+s)*(1+a)/2*(e.y-t.y),l=(1-n)*(1-s)*(1-a)/2*(i.y-e.y);return{x:r+o,y:c+l}},n=function(t,e,i,n,a,s){var r=(1-n)*(1+s)*(1-a)/2*(e.x-t.x),o=(1-n)*(1-s)*(1+a)/2*(i.x-e.x),c=(1-n)*(1+s)*(1-a)/2*(e.y-t.y),l=(1-n)*(1-s)*(1+a)/2*(i.y-e.y);return{x:r+o,y:c+l}}},t._self}(),this.GNS.Vec3=function(){var t=GNS.ClassFactory.create(GNS.EventDispatcher);return s=t._static,t.init=function(t,e,i){this.x=0,this.y=0,this.z=0,void 0!=t&&(this.x=t),void 0!=e&&(this.y=e),void 0!=i&&(this.z=i),this.add=function(t){var e=new GNS.Vec3;return e.x=this.x+t.x,e.y=this.y+t.y,e.z=this.z+t.z,e},this.add1=function(t){var e=new GNS.Vec3;return e.x=this.x+t,e.y=this.y+t,e.z=this.z+t,e},this.sub=function(t){var e=new GNS.Vec3;return e.x=this.x-t.x,e.y=this.y-t.y,e.z=this.z-t.z,e},this.sub1=function(t){var e=new GNS.Vec3;return e.x=this.x-t,e.y=this.y-t,e.z=this.z-t,e},this.mul=function(t){var e=new GNS.Vec3;return e.x=this.x*t.x,e.y=this.y*t.y,e.z=this.z*t.z,e},this.mul1=function(t){var e=new GNS.Vec3;return e.x=this.x*t,e.y=this.y*t,e.z=this.z*t,e},this.div=function(t){var e=new GNS.Vec3;return e.x=this.x/t.x,e.y=this.y/t.y,e.z=this.z/t.z,e},this.div1=function(t){var e=new GNS.Vec3;return e.x=this.x/t,e.y=this.y/t,e.z=this.z/t,e},this.normalize=function(){var t=new GNS.Vec3,e=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z);return e>0&&(t.x=this.x/e,t.y=this.y/e,t.z=this.z/e),t},this.cross=function(t){var e=new GNS.Vec3,i=this.y*t.z-this.z*t.y,n=this.z*t.x-this.x*t.z;return e.z=this.x*t.y-this.y*t.x,e.x=i,e.y=n,e},this.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},this.dist=function(t){return Math.sqrt((t.x-this.x)*(t.x-this.x)+(t.y-this.y)*(t.y-this.y)+(t.z-this.z)*(t.z-this.z))},this.lim=function(t){var e=this,i=this.x*this.x+this.y*this.y+this.z*this.z;if(i>t*t&&i>0){var n=t/Math.sqrt(i);e.x=this.x*n,e.y=this.y*n,e.z=this.z*n}return e}},t._self}(),this.GNS.Vec4=function(){var t=GNS.ClassFactory.create(GNS.EventDispatcher);return s=t._static,t.init=function(t,e,i,n){this.x=0,this.y=0,this.z=0,this.w=0,void 0!=t&&(this.x=t),void 0!=e&&(this.y=e),void 0!=i&&(this.z=i),void 0!=n&&(this.w=n),this.mulMat4=function(t){var e=new GNS.Vec4;return e.x=this.x*t.a00+this.y*t.a10+this.z*t.a20+this.w*t.a30,e.y=this.x*t.a01+this.y*t.a11+this.z*t.a21+this.w*t.a31,e.z=this.x*t.a02+this.y*t.a12+this.z*t.a22+this.w*t.a32,e.w=this.x*t.a03+this.y*t.a13+this.z*t.a23+this.w*t.a33,e}},t._self}(),this.GNS.Mat2=function(){var t=GNS.ClassFactory.create(GNS.EventDispatcher);return s=t._static,t.init=function(t,e,i,n){this.a00=0,this.a01=0,this.a10=0,this.a11=0,void 0!=t&&(this.a00=t),void 0!=e&&(this.a01=e),void 0!=i&&(this.a10=i),void 0!=n&&(this.a11=n),this.inverse=function(){var t=new GNS.Mat2,e=this.a00*this.a11-this.a01*this.a10;return 0==e?null:(t.a00=this.a11/e,t.a01=-1*this.a01/e,t.a10=-1*this.a10/e,t.a11=this.a00/e,t)}},t._self}(),this.GNS.Mat4=function(){var t=GNS.ClassFactory.create(GNS.EventDispatcher);return s=t._static,t.init=function(t,e,i,n,a,s,r,o,c,l,h,u,f,d,g,v){this.a00=0,this.a01=0,this.a02=0,this.a03=0,this.a10=0,this.a11=0,this.a12=0,this.a13=0,this.a20=0,this.a21=0,this.a22=0,this.a23=0,this.a30=0,this.a31=0,this.a32=0,this.a33=0,void 0!=t&&(this.a00=t),void 0!=e&&(this.a01=e),void 0!=i&&(this.a02=i),void 0!=n&&(this.a03=n),void 0!=a&&(this.a10=a),void 0!=s&&(this.a11=s),void 0!=r&&(this.a12=r),void 0!=o&&(this.a13=o),void 0!=c&&(this.a20=c),void 0!=l&&(this.a21=l),void 0!=h&&(this.a22=h),void 0!=u&&(this.a23=u),void 0!=f&&(this.a30=f),void 0!=d&&(this.a31=d),void 0!=g&&(this.a32=g),void 0!=v&&(this.a33=v),this.mul=function(t){var e=new GNS.Mat4;return e.a00=this.a00*t.a00+this.a01*t.a10+this.a02*t.a20+this.a03*t.a30,e.a01=this.a00*t.a01+this.a01*t.a11+this.a02*t.a21+this.a03*t.a31,e.a02=this.a00*t.a02+this.a01*t.a12+this.a02*t.a22+this.a03*t.a32,e.a03=this.a00*t.a03+this.a01*t.a13+this.a02*t.a23+this.a03*t.a33,e.a10=this.a10*t.a00+this.a11*t.a10+this.a12*t.a20+this.a13*t.a30,e.a11=this.a10*t.a01+this.a11*t.a11+this.a12*t.a21+this.a13*t.a31,e.a12=this.a10*t.a02+this.a11*t.a12+this.a12*t.a22+this.a13*t.a32,e.a13=this.a10*t.a03+this.a11*t.a13+this.a12*t.a23+this.a13*t.a33,e.a20=this.a20*t.a00+this.a21*t.a10+this.a22*t.a20+this.a23*t.a30,e.a21=this.a20*t.a01+this.a21*t.a11+this.a22*t.a21+this.a23*t.a31,e.a22=this.a20*t.a02+this.a21*t.a12+this.a22*t.a22+this.a23*t.a32,e.a23=this.a20*t.a03+this.a21*t.a13+this.a22*t.a23+this.a23*t.a33,e.a30=this.a30*t.a00+this.a31*t.a10+this.a32*t.a20+this.a33*t.a30,e.a31=this.a30*t.a01+this.a31*t.a11+this.a32*t.a21+this.a33*t.a31,e.a32=this.a30*t.a02+this.a31*t.a12+this.a32*t.a22+this.a33*t.a32,e.a33=this.a30*t.a03+this.a31*t.a13+this.a32*t.a23+this.a33*t.a33,e}},t._self}(),this.GNS.MathUtil=function(){var t=GNS.ClassFactory.create(GNS.EventDispatcher);return s=t._static,s.random=function(t,e){return Math.random()*(e-t)+t},s.dist=function(t,e,i,n){return(e-t)*(e-t)+(n-i)*(n-i)},t._self}(),this.GNS.ResizeController=function(){var t=GNS.ClassFactory.create(GNS.EventDispatcher);s=t._static;var e;s.init=function(){console.log("ResizeController::init"),GNS.Window.getInstance().addEvent(GNS.Event.RESIZE,n),e=[]},s.addFunction=function(t){if(null!=t){for(var i=0;i<e.length;i++)if(e[i]==t)return;e.push(t)}},s.removeFunction=function(t){if(null!=t)for(var i=0;i<e.length;i++)e[i]==t&&e.splice(i,1)};var i=null,n=function(){clearTimeout(i),i=setTimeout(function(){for(var t=0;t<e.length;t++)e[t]()},33)};return t._self}(),this.GNS.SoundController=function(){var t=GNS.ClassFactory.create(GNS.ElementObject);t._static;return t._self}(),this.GNS.SceneController=function(){var t=GNS.ClassFactory.create(GNS.EventDispatcher),e=t._static;return e.TOP_SCENE="index",e.ARTICLE_SCENE="article",e.current_scene_id="",e.current_scene,t.init=function(){},e.init=function(){t.logger("SceneController::init")},e.gotoScene=function(i){if(null!=e.current_scene){if(e.current_scene.hasEventListener(GNS.SceneEvent.DEL_COMPLETE))return;return e.current_scene.addEventListener(GNS.SceneEvent.DEL_COMPLETE,function(){e.current_scene.removeEventListener(GNS.SceneEvent.DEL_COMPLETE,arguments.callee),e.current_scene=null,GNS.SceneController.gotoScene(i)}),void e.current_scene.del()}switch(t.logger("current_scene "+e.current_scene),t.logger("SceneController::gotoScene -> "+i),i){case e.TOP_SCENE:e.current_scene=new GNS.TopScene;break;case e.ARTICLE_SCENE:e.current_scene=new GNS.ArticleScene;break;default:return void t.logger("###ERROR SceneController::gotoScene scene_id not found")}e.current_scene.show(),e.current_scene_id=i},t._self}(),this.GNS.SoundCloudController=function(){var t,e,i,n=GNS.ClassFactory.create(GNS.ElementObject),a=n._static,s="1a2814361cbcccc8033ad0ab9ec86c06",r={},o=function(t){var e=t*t,i=e*e,n=10*Math.log10(1.562339*i/((e+11589.09305)*(e+544440.6705)));return n+=10*Math.log10(2.242881*Math.pow(10,16)*i/(Math.pow(e+424.3186774,2)*Math.pow(e+148699001.4,2)))};return a.init=function(n,a){function r(){console.log("SoundCloudController::scriptLoadComp"),document.body.innerHTML+='<canvas id="canvas"></canvas>',SC.initialize({client_id:s}),SC.get("/resolve",{url:n},function(n){if(!n.errors){console.log(n),t=document.createElement("audio"),t.crossOrigin="anonymous",t.src=n.stream_url+"?client_id="+s,t.play();var r=new(window.AudioContext||window.webkitAudioContext);i=r.createAnalyser(),i.fftSize=2048;var o=r.createMediaElementSource(t);o.connect(i),i.connect(r.destination),e=new Uint8Array(i.frequencyBinCount),a()}})}GNS.LoadingUtil.multiLoad([function(t){GNS.LoadingUtil.scriptLoad("//connect.soundcloud.com/sdk.js",t)},function(t){GNS.LoadingUtil.scriptLoad("//cdnjs.cloudflare.com/ajax/libs/processing.js/1.4.8/processing.min.js",t)}],r)},a.debugShow=function(){function t(t,e){var i=t.getBoundingClientRect(),n=t.width/i.width,a=t.height/i.height;return{x:(e.clientX-i.left)*n,y:(e.clientY-i.top)*a}}var n=document.getElementById("canvas"),a=n.getContext("2d"),s=new Processing(n),r=1024,c=300;s.setup=function(){s.frameRate(32),s.noLoop(),s.background(0),s.size(r,500)};var l=i.frequencyBinCount,h=(Math.round(c/512),Math.round(r/l)),u=0;s.draw=function(){i.getByteFrequencyData(e),s.background(0),s.stroke(255),s.fill(255);for(var t=0;.1*l>t;t++)u=e[t]+Math.abs(e[t]/o(44100/2048*t)),u-=160,s.rect(t*h*10,500,10*(h-2),-1*u),f&&(a.fillStyle="red",a.font="italic 400 24px Unknown Font, sans-serif",a.fillText(parseInt(.1*f.x),10*parseInt(.1*f.x),f.y-30),a.fillStyle="white")},s.setup(),s.loop();var f;n.onmousemove=function(e){f=t(n,e)}},a.play=function(){t.play()},a.pause=function(){t.pause()},a.stop=function(){t.pause(),t.currentTime=0},a.update=function(){i.getByteFrequencyData(e);var t,n=i.frequencyBinCount;for(var a in r)r[a].gain=0;for(var s=0;.1*n>s;s++){t=e[s]+Math.abs(e[s]/o(44100/2048*s));for(var a in r)s==r[a].freq-1&&(r[a].gain+=t/3),s==r[a].freq+0&&(r[a].gain+=t/3),s==r[a].freq+1&&(r[a].gain+=t/3)}},a.getBytes=function(){return e},a.setPoint=function(t,e){r[t]={freq:e,gain:0}},a.removePoint=function(t){delete r[t]},a.getGain=function(t){return r[t].gain},n._self}(),this.GNS.SampleClass=function(){var t=new GNS.ClassFactory.create,e=t._static;return e.aa="static member",t.init=function(){var t=this;t.aa="public-member";var e="private-member";console.log("SampleClass::constructor",t.aa,e),t.publicMethod=function(){console.log("SampleClass::publicMethod")}},e.staticMethod=function(){console.log("SampleClass::static-method")},t._self}(),this.GNS.TopScene=function(){var t,e=GNS.ClassFactory.create(GNS.EventDispatcher);return e.show=function(){e.logger("TopScene::show"),t=this},e.del=function(){e.logger("TopScene::del"),t.dispatchEvent(GNS.SceneEvent.DEL_COMPLETE)},e._self}(),this.GNS.ArticleScene=function(){var t,e=GNS.ClassFactory.create(GNS.EventDispatcher);return e.show=function(){e.logger("ArticleScene::show"),t=this},e.del=function(){e.logger("ArticleScene::del"),t.dispatchEvent(GNS.SceneEvent.DEL_COMPLETE)},e._self}(),this.GNS.WebGLContext=function(){var t=GNS.ClassFactory.create(),e=t._static;return e.element,e.context,e.WIDTH,e.HEIGHT,e.init=function(t,i,n){e.element=document.getElementById(t),e.element.width=e.WIDTH=i,e.element.height=e.HEIGHT=n,gl=e.element.getContext("webgl")||e.element.getContext("experimental-webgl")},e.resize=function(t,i){e.element&&(e.element.width=e.WIDTH=t,e.element.height=e.HEIGHT=i,gl.viewport(0,0,e.WIDTH,e.HEIGHT))},t._self}(),this.GNS.ProgramObject=function(){var t=GNS.ClassFactory.create();t._static;t.init=function(t,n){var a=e(t),s=e(n),r=this,o={};this.prgramObject=i(a,s),this.setUniformLocation=function(t){o[t]=gl.getUniformLocation(r.prgramObject,t)},this.getUniformLocation=function(t){return o[t]},this.useProgram=function(){gl.useProgram(r.prgramObject)}};var e=function(t){var e,i=document.getElementById(t);if(i){switch(i.type){case"x-shader/x-vertex":e=gl.createShader(gl.VERTEX_SHADER);break;case"x-shader/x-fragment":e=gl.createShader(gl.FRAGMENT_SHADER);break;default:return}return gl.shaderSource(e,i.text),gl.compileShader(e),gl.getShaderParameter(e,gl.COMPILE_STATUS)?e:void alert(gl.getShaderInfoLog(e))}},i=function(t,e){var i=gl.createProgram();return gl.attachShader(i,t),gl.attachShader(i,e),gl.linkProgram(i),gl.getProgramParameter(i,gl.LINK_STATUS)?(gl.useProgram(i),i):void alert(gl.getProgramInfoLog(i))};return t._self}(),this.GNS.TextureObject=function(){var t=GNS.ClassFactory.create();t._static;return t.init=function(t){this.texture=gl.createTexture(),gl.bindTexture(gl.TEXTURE_2D,this.texture),gl.texImage2D(gl.TEXTURE_2D,0,gl.RGBA,gl.RGBA,gl.UNSIGNED_BYTE,t),gl.generateMipmap(gl.TEXTURE_2D),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.LINEAR),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,gl.LINEAR),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,gl.REPEAT),gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,gl.REPEAT),gl.bindTexture(gl.TEXTURE_2D,null)},t._self}(),this.GNS.VBObject=function(){var t=GNS.ClassFactory.create();t._static;return t.init=function(t){var e,i,n,a,s,r,o=this,c=gl.createBuffer(),l=gl.createBuffer(),h=gl.createBuffer(),u=gl.createBuffer(),f=gl.createBuffer(),d=!1;this.setPosition=function(t){n=!0,i=t.length,v(c,t)},this.setColor=function(t){a=!0,v(l,t)},this.setNormal=function(t){s=!0,v(h,t)},this.setTextureCoord=function(t){r=!0,v(u,t)},this.setIndex=function(t){d=!0,e=t.length,E(f,t)},this.getAttLocationList=function(){var e=[];return n&&e.push(gl.getAttribLocation(t,"position")),a&&e.push(gl.getAttribLocation(t,"color")),s&&e.push(gl.getAttribLocation(t,"normal")),r&&e.push(gl.getAttribLocation(t,"textureCoord")),e},this.getIndexLength=function(){return e},this.getAttrStrideList=function(){var t=[];return n&&t.push(3),a&&t.push(4),s&&t.push(3),r&&t.push(2),t};var g=function(){var t=[];n&&t.push(c),a&&t.push(l),s&&t.push(h),r&&t.push(u);var e=o.getAttLocationList(),i=o.getAttrStrideList();for(var g in t)gl.bindBuffer(gl.ARRAY_BUFFER,t[g]),gl.enableVertexAttribArray(e[g]),gl.vertexAttribPointer(e[g],i[g],gl.FLOAT,!1,0,0);d&&gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,f)},v=function(t,e){gl.bindBuffer(gl.ARRAY_BUFFER,t),gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(e),gl.DYNAMIC_DRAW),gl.bindBuffer(gl.ARRAY_BUFFER,null)},E=function(t,e){gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,t),gl.bufferData(gl.ELEMENT_ARRAY_BUFFER,new Int16Array(e),gl.DYNAMIC_DRAW),gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,null)};this.draw=function(t){g(),gl.drawElements(t,o.getIndexLength(),gl.UNSIGNED_SHORT,0)},this.drawArrays=function(t){g(),gl.drawArrays(t,0,parseInt(i/3))}},t._self}(),this.GNS.SVGModel=function(){var t=GNS.ClassFactory.create(GNS.ElementObject),e=(t._static,["M","m","H","h","L","l","V","v","C","c","S","s","z"]);return t.init=function(t){var i=t.getAttributeNode("d");this.element=t;var n=i.value,a=[];this.dlist=a;for(var s=0;s<e.length;s++){var r=new RegExp(e[s],"g");n=n.replace(r,"__"+e[s]),n=n.replace(/\n/g,""),n=n.replace(/\s/g,"")}for(var o=n.split("__"),s=0;s<o.length;s++)""==o[s]&&o.splice(s,1);for(var s=0;s<o.length;s++)for(var c=0;c<e.length;c++){var r=new RegExp(e[c],"g"),l=o[s].match(r);if(l){var h={};o[s]=o[s].replace(/-/g,",-"),h.originData=o[s].replace(r,"").split(","),h.data=o[s].replace(r,"").split(",");for(var u=0;u<h.originData.length;u++)""==h.originData[u]&&(h.originData.splice(u,1),h.data.splice(u,1));h.type=l,a.push(h)}}this.update=function(){for(var t="",e=0;e<a.length;e++){t+=a[e].type;for(var n=0;n<a[e].data.length;n++)0!=n&&(t+=","),t+=a[e].data[n]}t=t.replace(/,-/g,"-"),i.value=t}},t._self}(),this.GNS.Main=function(){var t=GNS.ClassFactory.create();return s=t._static,s.initWindow=function(){function e(){console.log("resize event ")}t.logger("Main::initWindow"),GNS.ResizeController.init(),GNS.ResizeController.addFunction(e),GNS.SceneController.init(),GNS.SceneController.gotoScene(GNS.SceneController.TOP_SCENE),GNS.SoundCloudController.init("https://soundcloud.com/christian_dittmann/la-hora-del-tigre",function(){function t(){requestAnimationFrame(t),GNS.SoundCloudController.update()}GNS.SoundCloudController.debugShow(),GNS.SoundCloudController.setPoint("low",3),GNS.SoundCloudController.setPoint("mid",34),t()})},s.init=function(){t.logger("Main::init"),GNS.Window.getInstance().addEvent(GNS.Event.UNLOAD,function(){}),GNS.Window.getInstance().addEvent(GNS.Event.LOAD,t._static.initWindow)},s.init(),t._self}();
//# sourceMappingURL=main.min.js.map